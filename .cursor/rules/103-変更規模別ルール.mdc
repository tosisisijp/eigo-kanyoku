---
description: "変更規模別編集プロセス管理とリンク整合性管理ルール"
globs: ["**/*.md", "**/*.mdc"]
tags: ["process-management", "scale-based", "link-management"]
priority: 2
version: "1.0.0"
alwaysApply: false
---
# 変更規模別ルール

## 変更規模の判定

### 軽微な変更 [Light Changes]
**判定基準**:
- 文書の構造に影響しない
- 他のページへの影響が最小限
- 5分以内で完了可能

**具体例**:
- 誤字・脱字の修正
- リンクの追加・修正
- 既存項目への例文追加
- 練習問題セクションの削除

**適用ルール**: [[102-基本編集ルール.mdc]] + [[105-検証・品質管理.mdc]]（基本チェックのみ）

### 中規模な変更 [Medium Changes]
**判定基準**:
- 文書の構造に部分的な影響
- 複数ページに影響する可能性
- 15-30分程度で完了

**具体例**:
- 新しいセクションの追加
- 既存セクションの再構成
- 複数ページにわたるリンク更新
- 比較表の追加・修正

**適用ルール**: [[102-基本編集ルール.mdc]] + 変更プロセス管理 + [[105-検証・品質管理.mdc]]

### 大規模な変更 [Major Changes]
**判定基準**:
- 文書の構造に大きな影響
- 複数ページに広範囲な影響
- 30分以上の作業時間

**具体例**:
- TOEIC表現分類体系の大幅な変更
- 新しい慣用句・句動詞カテゴリーの追加
- 全体的なAnkiカード構造の再設計
- 複数ファイルにわたる大規模な更新

**適用ルール**: 全ルール（[[102-基本編集ルール.mdc]] + 変更プロセス管理 + [[104-表現分類管理.mdc]] + [[105-検証・品質管理.mdc]]）

## 変更プロセス管理

### 中規模・大規模変更の共通プロセス
1. **事前準備**
   - 変更範囲の特定
   - 影響するファイルの確認
   - 関連リンクの洗い出し

2. **実装フェーズ**
   - 段階的な変更実施
   - 各段階での確認
   - バックアップの確保

3. **検証フェーズ**
   - [[105-検証・品質管理.mdc]]に基づく検証
   - 関連ファイルの整合性確認
   - リンクの動作確認

4. **バージョン管理フェーズ**
   - フロントマターのバージョン・日付更新
   - ChatGPT共有準備

## バージョン管理 [参照]

バージョン管理とPowerShellコマンド実行に関する詳細は以下を参照：
- **[[109-バージョン管理ルール.mdc]]**: バージョン更新基準・チェックリスト
- **[[110-PowerShell操作管理.mdc]]**: PowerShellコマンド実行時の注意事項

## README管理 [参照]

README.mdの管理と更新に関する詳細は **[[107-README管理.mdc]]** を参照してください。

### 基本的な適用タイミング
- 主要表現ファイルの変更時
- 新規ファイル追加時
- TOEIC学習システム構造の変更時
- バージョン管理システムの更新時

## リンク整合性管理 [Auto Attached]

検証時に存在しないリンクが発見された場合に適用されます。

### 存在しないリンクの発見時
**対象**: 検証時に発見された機能しないリンク
**適用セクション**: 変更プロセス管理 + [[105-検証・品質管理.mdc]]
**所要時間**: 10-30分（ページ作成の場合）

**対応フロー**:
1. **評価段階** (5分)
   - リンクの必要性確認
   - TOEIC学習効果の評価
   - 他の参照元の確認

2. **実装段階** (10-20分)
   - 新規ページ作成または既存ページ統合
   - 相互リンクの設定
   - 基本情報の記載

3. **検証段階** (5分)
   - リンクの動作確認
   - 整合性の確認

### 新規ページ作成基準
- **高優先度**: TOEIC頻出表現の分類（ビジネス表現、接続表現など）
- **中優先度**: 慣用句・句動詞の詳細分類
- **低優先度**: 単発的な参照項目

### ページ作成テンプレート
新規ページ作成時の基本構造：

    ---
    title: [表現名]
    tags:
      - "#TOEIC"
      - "#表現/[カテゴリー]"
      - "#頻出度/[レベル]"
      - "#Anki対応"
    ---
    
    # [表現名]
    
    ## 定義・意味
    [基本的な定義]
    
    ## TOEIC出題傾向
    [Part別出題情報]
    
    ## Ankiカード情報
    [カード作成用の情報]
    
    ## 関連表現
    - [[親ページ]]

## mdcファイル編集時の特別ルール

### 適用制約
mdcファイル編集時は以下の専門ルールが自動適用されます：

- **[[000-mdc-best-practices.mdc]]**: mdcファイル作成・管理の包括的規範
  - フロントマター編集制限
  - ファイル削除の絶対禁止
  - 誤修正時の対応原則

- **[[001-AI実装ガイドライン.mdc]]**: AI実装時の技術的制約
  - フロントマター構造保護
  - 編集実行時の制約
  - エラー処理方針

### 編集範囲の明確化
- **編集対象**: Markdownコンテンツ部分のみ（`# 見出し` 以降）
- **保護対象**: YAML frontmatter部分（`---` で囲まれた領域）
- **安全確保**: 詳細制約は上記専門ルールを参照

## 関連ファイル
- [[100-基本方針.mdc]] - 基本方針と存在しないページへのリンク処理方針
- [[102-基本編集ルール.mdc]] - 基本ルール・優先順位体系
- [[104-表現分類管理.mdc]] - 表現関連ルール
- [[105-検証・品質管理.mdc]] - 検証ルール（存在しないリンクへの対応手順を含む）
- [[107-README管理.mdc]] - README.mdの管理と更新
- [[108-Git操作管理.mdc]] - Git操作の安全な実行
- [[109-バージョン管理ルール.mdc]] - バージョン管理・チェックリスト
- [[110-PowerShell操作管理.mdc]] - PowerShellコマンド実行時の安全管理
- [[000-mdc-best-practices.mdc]] - mdcファイル編集制限（詳細制約）
- [[001-AI実装ガイドライン.mdc]] - AI実装時の技術的制約
